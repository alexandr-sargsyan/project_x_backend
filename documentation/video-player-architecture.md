# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –µ–¥–∏–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤–∏–¥–µ–æ
## Filmmaker Reference Platform - Unified Video Player

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2026-01-09  
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä –∏ —Ü–µ–ª–∏](#1-–æ–±–∑–æ—Ä-–∏-—Ü–µ–ª–∏)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã](#2-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã)
3. [Backend: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤](#3-backend-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
4. [Frontend: –ï–¥–∏–Ω—ã–π –ø–ª–µ–µ—Ä](#4-frontend-–µ–¥–∏–Ω—ã–π-–ø–ª–µ–µ—Ä)
5. [–î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Backend](#5-–¥–µ—Ç–∞–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-backend)
6. [–î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Frontend](#6-–¥–µ—Ç–∞–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-frontend)
7. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#7-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-–∏-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
8. [–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –∏ –±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è](#8-—Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å-–∏-–±—É–¥—É—â–∏–µ-—É–ª—É—á—à–µ–Ω–∏—è)

---

## 1. –û–±–∑–æ—Ä –∏ —Ü–µ–ª–∏

### 1.1. –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å

–°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤–∏–¥–µ–æ, –∫–æ—Ç–æ—Ä–∞—è:
- **–ê–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç** —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏ (YouTube, TikTok, Instagram)
- **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç** –µ–¥–∏–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –¥–ª—è –≤—Å–µ—Ö –≤–∏–¥–µ–æ
- **–°–∫—Ä—ã–≤–∞–µ—Ç** —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç** –≥–∏–±–∫–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

### 1.2. –ü—Ä–æ–±–ª–µ–º–∞

–†–∞–∑–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏–º–µ—é—Ç:
- –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã URL
- –†–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è (iframe, embed, oEmbed)
- –†–∞–∑–Ω—ã–µ API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º
- –†–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (autoplay, controls, mute)
- –†–∞–∑–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:** –î–≤—É—Ö—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞ backend –∏ –µ–¥–∏–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –Ω–∞ frontend.

### 1.3. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –°—Ç–∞—Ç—É—Å | –ú–µ—Ç–æ–¥ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è |
|-----------|--------|-------------------|
| YouTube | ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | iframe embed API |
| YouTube Shorts | ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | iframe embed API (—Ç–æ—Ç –∂–µ, —á—Ç–æ YouTube) |
| TikTok | ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | iframe player v1 API |
| Instagram | ‚ö†Ô∏è –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | embed.js (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π embed) |

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 2.1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Backend Layer                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  PlatformNormalizationService                     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—É                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –ò–∑–≤–ª–µ–∫–∞–µ—Ç video ID                             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ                             ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                          ‚Üì                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  VideoReference Model                             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - platform: string                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - platform_video_id: string                      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - source_url: string                             ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üì
                    JSON API Response
                          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Frontend Layer                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  UnifiedVideoPlayer Component                     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç platform, platform_video_id          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –†–µ–Ω–¥–µ—Ä–∏—Ç –Ω—É–∂–Ω—ã–π iframe/embed                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω—ã–π UI                         ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                          ‚Üì                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  VideoOverlay Component                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Play/Pause –∫–Ω–æ–ø–∫–∏                             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Mute/Unmute –∫–Ω–æ–ø–∫–∏                             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º                 ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2.2. –ü—Ä–∏–Ω—Ü–∏–ø –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

**Backend** –ø—Ä–∏–≤–æ–¥–∏—Ç –≤—Å–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ URL –∫ –µ–¥–∏–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É:

```php
// –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã)
"https://www.youtube.com/watch?v=ABC123"
"https://youtu.be/ABC123"
"https://www.youtube.com/shorts/ABC123"
"https://www.tiktok.com/@user/video/1234567890"
"https://www.instagram.com/p/ABC123/"

// –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç)
[
    'platform' => 'youtube',
    'platform_video_id' => 'ABC123',
    'source_url' => 'https://www.youtube.com/watch?v=ABC123'
]
```

### 2.3. –ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**Frontend** —Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º –∑–∞ –µ–¥–∏–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º:

```jsx
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ
<UnifiedVideoPlayer 
    platform="youtube"
    platformVideoId="ABC123"
/>

<UnifiedVideoPlayer 
    platform="tiktok"
    platformVideoId="1234567890"
/>

// –í–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ - —Ä–∞–∑–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π UI
```

---

## 3. Backend: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### 3.1. –û–±—â–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤–≤–æ–¥–∏—Ç source_url –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
   ‚Üì
2. Backend –ø–æ–ª—É—á–∞–µ—Ç source_url —á–µ—Ä–µ–∑ API
   ‚Üì
3. PlatformNormalizationService –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
   ‚Üì
4. –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è platform_video_id
   ‚Üì
5. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è platform (youtube/tiktok/instagram)
   ‚Üì
6. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
   ‚Üì
7. API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```

### 3.2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

#### 3.2.1. YouTube –∏ YouTube Shorts

**URL –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
- `https://www.youtube.com/watch?v={VIDEO_ID}`
- `https://youtu.be/{VIDEO_ID}`
- `https://www.youtube.com/shorts/{VIDEO_ID}`
- `https://m.youtube.com/watch?v={VIDEO_ID}`

**–ê–ª–≥–æ—Ä–∏—Ç–º –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `youtube.com` –∏–ª–∏ `youtu.be` –≤ URL
2. –ò–∑–≤–ª–µ—á—å video ID:
   - –î–ª—è `watch?v=` ‚Üí –≤–∑—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `v`
   - –î–ª—è `youtu.be/` ‚Üí –≤–∑—è—Ç—å —á–∞—Å—Ç—å –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ `/`
   - –î–ª—è `shorts/` ‚Üí –≤–∑—è—Ç—å —á–∞—Å—Ç—å –ø–æ—Å–ª–µ `shorts/`
3. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å: video ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 11 —Å–∏–º–≤–æ–ª–æ–≤ (–∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ-—Ü–∏—Ñ—Ä–æ–≤–æ–π)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```php
[
    'platform' => 'youtube',
    'platform_video_id' => 'ABC123XYZ45',
    'normalized' => true
]
```

#### 3.2.2. TikTok

**URL –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
- `https://www.tiktok.com/@username/video/{VIDEO_ID}`
- `https://vm.tiktok.com/{SHORT_ID}` (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞)
- `https://m.tiktok.com/v/{VIDEO_ID}`

**–ê–ª–≥–æ—Ä–∏—Ç–º –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `tiktok.com` –≤ URL
2. –ò–∑–≤–ª–µ—á—å video ID:
   - –î–ª—è `@username/video/{VIDEO_ID}` ‚Üí –≤–∑—è—Ç—å —á–∏—Å–ª–æ–≤—É—é —á–∞—Å—Ç—å –ø–æ—Å–ª–µ `/video/`
   - –î–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ ‚Üí –≤—ã–ø–æ–ª–Ω–∏—Ç—å HTTP HEAD –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ URL
3. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å: video ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º (–æ–±—ã—á–Ω–æ 19 —Ü–∏—Ñ—Ä)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```php
[
    'platform' => 'tiktok',
    'platform_video_id' => '1234567890123456789',
    'normalized' => true
]
```

#### 3.2.3. Instagram

**URL –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
- `https://www.instagram.com/p/{POST_ID}/`
- `https://www.instagram.com/reel/{REEL_ID}/`
- `https://www.instagram.com/tv/{IGTV_ID}/`

**–ê–ª–≥–æ—Ä–∏—Ç–º –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `instagram.com` –≤ URL
2. –ò–∑–≤–ª–µ—á—å post ID:
   - –î–ª—è `/p/` ‚Üí –≤–∑—è—Ç—å —á–∞—Å—Ç—å –ø–æ—Å–ª–µ `/p/` –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ `/`
   - –î–ª—è `/reel/` ‚Üí –≤–∑—è—Ç—å —á–∞—Å—Ç—å –ø–æ—Å–ª–µ `/reel/` –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ `/`
   - –î–ª—è `/tv/` ‚Üí –≤–∑—è—Ç—å —á–∞—Å—Ç—å –ø–æ—Å–ª–µ `/tv/` –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ `/`
3. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å: post ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ-—Ü–∏—Ñ—Ä–æ–≤–æ–π —Å—Ç—Ä–æ–∫–æ–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```php
[
    'platform' => 'instagram',
    'platform_video_id' => 'ABC123XYZ',
    'normalized' => true
]
```

### 3.3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

#### 3.3.1. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ `video_references`

–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ:
```sql
ALTER TABLE video_references 
ADD COLUMN platform_video_id VARCHAR(255) NULL;
```

**–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π:**
- `platform` (string, nullable) - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞: 'youtube', 'tiktok', 'instagram'
- `platform_video_id` (string, nullable) - –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π ID –≤–∏–¥–µ–æ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- `source_url` (string) - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)

**–ò–Ω–¥–µ–∫—Å—ã:**
- –ò–Ω–¥–µ–∫—Å –Ω–∞ `platform` –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å –Ω–∞ `(platform, platform_video_id)` –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏

#### 3.3.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ VideoReference

```php
// app/Models/VideoReference.php
protected $fillable = [
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
    'platform_video_id',
];

// –î–æ–±–∞–≤–∏—Ç—å accessor –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
public function isNormalized(): bool
{
    return !empty($this->platform) && !empty($this->platform_video_id);
}
```

### 3.4. API Response —Ñ–æ—Ä–º–∞—Ç

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ video reference:**
```json
{
    "data": {
        "id": 1,
        "title": "Example Video",
        "source_url": "https://www.youtube.com/watch?v=ABC123",
        "platform": "youtube",
        "platform_video_id": "ABC123",
        "preview_url": "...",
        "category": {...},
        "tags": [...],
        "tutorials": [...]
    }
}
```

---

## 4. Frontend: –ï–¥–∏–Ω—ã–π –ø–ª–µ–µ—Ä

### 4.1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
VideoDetailPage
    ‚Üì
UnifiedVideoPlayer (–≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
    ‚îú‚îÄ‚îÄ YouTubePlayer (–µ—Å–ª–∏ platform === 'youtube')
    ‚îú‚îÄ‚îÄ TikTokPlayer (–µ—Å–ª–∏ platform === 'tiktok')
    ‚îî‚îÄ‚îÄ InstagramPlayer (–µ—Å–ª–∏ platform === 'instagram')
    ‚Üì
VideoOverlay (–æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö)
    ‚îú‚îÄ‚îÄ PlayButton
    ‚îú‚îÄ‚îÄ PauseButton
    ‚îú‚îÄ‚îÄ MuteButton
    ‚îî‚îÄ‚îÄ UnmuteButton
```

### 4.2. –ï–¥–∏–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

**–î–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:**
- –ü—Ä–æ–ø–æ—Ä—Ü–∏–∏: 9:16 (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ) –∏–ª–∏ 16:9 (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ)
- –ê–≤—Ç–æ–ø–ª–µ–π: –≤–∫–ª—é—á–µ–Ω (muted)
- –ö–æ–Ω—Ç—Ä–æ–ª—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: —Å–∫—Ä—ã—Ç—ã
- –ó–≤—É–∫: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∫–ª—é—á–µ–Ω
- –ü–æ–≤–µ–¥–µ–Ω–∏–µ: –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ/–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏

### 4.3. –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º

#### 4.3.1. YouTube / YouTube Shorts

**iframe URL:**
```
https://www.youtube.com/embed/{VIDEO_ID}?controls=0&autoplay=1&mute=1&rel=0&playsinline=1&enablejsapi=1
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `controls=0` - —Å–∫—Ä—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã
- `autoplay=1` - –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
- `mute=1` - –±–µ–∑ –∑–≤—É–∫–∞
- `rel=0` - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ
- `playsinline=1` - –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- `enablejsapi=1` - –≤–∫–ª—é—á–∏—Ç—å JavaScript API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- YouTube IFrame Player API –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 4.3.2. TikTok

**iframe URL:**
```
https://www.tiktok.com/player/v1/{VIDEO_ID}?controls=0&autoplay=1&muted=1&loop=1&rel=0
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `controls=0` - —Å–∫—Ä—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã
- `autoplay=1` - –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
- `muted=1` - –±–µ–∑ –∑–≤—É–∫–∞
- `loop=1` - –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ
- `rel=0` - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- TikTok Embedded Player API —á–µ—Ä–µ–∑ postMessage

#### 4.3.3. Instagram

**–ú–µ—Ç–æ–¥ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è:**
```html
<blockquote class="instagram-media" 
            data-instgrm-permalink="{POST_URL}">
</blockquote>
<script async src="//www.instagram.com/embed.js"></script>
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–ø–ª–µ–π –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- –ö–æ–Ω—Ç—Ä–æ–ª—ã –Ω–µ–ª—å–∑—è —Å–∫—Ä—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –¢—Ä–µ–±—É–µ—Ç—Å—è –∫–ª–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞

---

## 5. –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Backend

### 5.1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

#### 5.1.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–∞

**–§–∞–π–ª:** `app/Services/PlatformNormalizationService.php`

```php
<?php

namespace App\Services;

class PlatformNormalizationService
{
    /**
     * –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç URL –≤–∏–¥–µ–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
     *
     * @param string $url
     * @return array{platform: string|null, platform_video_id: string|null, normalized: bool}
     */
    public function normalizeUrl(string $url): array
    {
        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ ID
    }

    /**
     * –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –ø–æ URL
     */
    private function detectPlatform(string $url): ?string
    {
        // –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
    }

    /**
     * –ò–∑–≤–ª–µ–∫–∞–µ—Ç video ID –¥–ª—è YouTube
     */
    private function extractYouTubeId(string $url): ?string
    {
        // –õ–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
    }

    /**
     * –ò–∑–≤–ª–µ–∫–∞–µ—Ç video ID –¥–ª—è TikTok
     */
    private function extractTikTokId(string $url): ?string
    {
        // –õ–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
    }

    /**
     * –ò–∑–≤–ª–µ–∫–∞–µ—Ç post ID –¥–ª—è Instagram
     */
    private function extractInstagramId(string $url): ?string
    {
        // –õ–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
    }
}
```

#### 5.1.2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

**–ú–µ—Ç–æ–¥ `detectPlatform()`:**
```php
private function detectPlatform(string $url): ?string
{
    $url = strtolower(trim($url));
    
    if (preg_match('/youtube\.com|youtu\.be/', $url)) {
        return 'youtube';
    }
    
    if (preg_match('/tiktok\.com/', $url)) {
        return 'tiktok';
    }
    
    if (preg_match('/instagram\.com/', $url)) {
        return 'instagram';
    }
    
    return null;
}
```

#### 5.1.3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è YouTube ID

**–ú–µ—Ç–æ–¥ `extractYouTubeId()`:**
```php
private function extractYouTubeId(string $url): ?string
{
    // –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ URL
    $patterns = [
        '/youtube\.com\/watch\?v=([a-zA-Z0-9_-]{11})/',
        '/youtu\.be\/([a-zA-Z0-9_-]{11})/',
        '/youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/',
        '/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/',
    ];
    
    foreach ($patterns as $pattern) {
        if (preg_match($pattern, $url, $matches)) {
            return $matches[1];
        }
    }
    
    return null;
}
```

#### 5.1.4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è TikTok ID

**–ú–µ—Ç–æ–¥ `extractTikTokId()`:**
```php
private function extractTikTokId(string $url): ?string
{
    // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: /@username/video/{ID}
    if (preg_match('/tiktok\.com\/@[^\/]+\/video\/(\d+)/', $url, $matches)) {
        return $matches[1];
    }
    
    // –ö–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏ —Ç—Ä–µ–±—É—é—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
    if (preg_match('/vm\.tiktok\.com|t\.tiktok\.com/', $url)) {
        // –í—ã–ø–æ–ª–Ω–∏—Ç—å HEAD –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ URL
        $fullUrl = $this->resolveShortUrl($url);
        if ($fullUrl) {
            return $this->extractTikTokId($fullUrl);
        }
    }
    
    return null;
}

private function resolveShortUrl(string $url): ?string
{
    // HTTP HEAD –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è Location header
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Guzzle –∏–ª–∏ file_get_contents —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
}
```

#### 5.1.5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è Instagram ID

**–ú–µ—Ç–æ–¥ `extractInstagramId()`:**
```php
private function extractInstagramId(string $url): ?string
{
    $patterns = [
        '/instagram\.com\/p\/([a-zA-Z0-9_-]+)/',
        '/instagram\.com\/reel\/([a-zA-Z0-9_-]+)/',
        '/instagram\.com\/tv\/([a-zA-Z0-9_-]+)/',
    ];
    
    foreach ($patterns as $pattern) {
        if (preg_match($pattern, $url, $matches)) {
            return $matches[1];
        }
    }
    
    return null;
}
```

#### 5.1.6. –ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

**–ú–µ—Ç–æ–¥ `normalizeUrl()`:**
```php
public function normalizeUrl(string $url): array
{
    $platform = $this->detectPlatform($url);
    
    if (!$platform) {
        return [
            'platform' => null,
            'platform_video_id' => null,
            'normalized' => false,
        ];
    }
    
    $videoId = match($platform) {
        'youtube' => $this->extractYouTubeId($url),
        'tiktok' => $this->extractTikTokId($url),
        'instagram' => $this->extractInstagramId($url),
        default => null,
    };
    
    return [
        'platform' => $videoId ? $platform : null,
        'platform_video_id' => $videoId,
        'normalized' => !empty($videoId),
    ];
}
```

### 5.2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä

#### 5.2.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ StoreVideoReferenceRequest

**–í–∞–ª–∏–¥–∞—Ü–∏—è source_url:**
```php
'source_url' => ['required', 'url', 'max:2048'],
```

#### 5.2.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ VideoReferenceController

**–ú–µ—Ç–æ–¥ `store()`:**
```php
public function store(StoreVideoReferenceRequest $request): JsonResponse
{
    $validated = $request->validated();
    
    // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è URL
    $normalizationService = app(PlatformNormalizationService::class);
    $normalized = $normalizationService->normalizeUrl($validated['source_url']);
    
    // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    $validated['platform'] = $normalized['platform'];
    $validated['platform_video_id'] = $normalized['platform_video_id'];
    
    // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
    // (–¥–ª—è –±—É–¥—É—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–ª–∏ —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
    $videoReference = VideoReference::create($validated);
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–≥–æ–≤, tutorials –∏ —Ç.–¥.
    
    return response()->json([
        'data' => $videoReference->load(['category', 'tags', 'tutorials']),
    ], 201);
}
```

**–ú–µ—Ç–æ–¥ `update()`:**
```php
public function update(UpdateVideoReferenceRequest $request, string $id): JsonResponse
{
    $videoReference = VideoReference::findOrFail($id);
    $validated = $request->validated();
    
    // –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è source_url, –ø–µ—Ä–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å
    if (isset($validated['source_url']) && 
        $validated['source_url'] !== $videoReference->source_url) {
        
        $normalizationService = app(PlatformNormalizationService::class);
        $normalized = $normalizationService->normalizeUrl($validated['source_url']);
        
        $validated['platform'] = $normalized['platform'];
        $validated['platform_video_id'] = $normalized['platform_video_id'];
    }
    
    $videoReference->update($validated);
    
    return response()->json([
        'data' => $videoReference->load(['category', 'tags', 'tutorials']),
    ]);
}
```

### 5.3. –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª:** `database/migrations/XXXX_XX_XX_add_platform_video_id_to_video_references.php`

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::table('video_references', function (Blueprint $table) {
            $table->string('platform_video_id', 255)->nullable()->after('platform');
        });
    }

    public function down(): void
    {
        Schema::table('video_references', function (Blueprint $table) {
            $table->dropColumn('platform_video_id');
        });
    }
};
```

### 5.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ VideoReference

```php
// app/Models/VideoReference.php

protected $fillable = [
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
    'platform_video_id',
];

/**
 * –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ª–∏ –≤–∏–¥–µ–æ
 */
public function isNormalized(): bool
{
    return !empty($this->platform) && !empty($this->platform_video_id);
}

/**
 * –ü–æ–ª—É—á–∏—Ç—å embed URL –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è
 */
public function getEmbedUrlAttribute(): ?string
{
    if (!$this->isNormalized()) {
        return null;
    }
    
    return match($this->platform) {
        'youtube' => "https://www.youtube.com/embed/{$this->platform_video_id}",
        'tiktok' => "https://www.tiktok.com/player/v1/{$this->platform_video_id}",
        'instagram' => $this->source_url, // –î–ª—è Instagram –∏—Å–ø–æ–ª—å–∑—É–µ–º source_url
        default => null,
    };
}
```

---

## 6. –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Frontend

### 6.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
src/
  components/
    VideoPlayer/
      UnifiedVideoPlayer.jsx      # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
      UnifiedVideoPlayer.css
      YouTubePlayer.jsx           # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è YouTube
      TikTokPlayer.jsx            # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è TikTok
      InstagramPlayer.jsx         # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Instagram
      VideoOverlay.jsx             # –û–±—â–∏–π overlay
      VideoOverlay.css
      useVideoPlayer.js            # –•—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–µ–µ—Ä–æ–º
```

### 6.2. –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç UnifiedVideoPlayer

**–§–∞–π–ª:** `src/components/VideoPlayer/UnifiedVideoPlayer.jsx`

```jsx
import React from 'react';
import YouTubePlayer from './YouTubePlayer';
import TikTokPlayer from './TikTokPlayer';
import InstagramPlayer from './InstagramPlayer';
import VideoOverlay from './VideoOverlay';
import './UnifiedVideoPlayer.css';

const UnifiedVideoPlayer = ({ 
  platform, 
  platformVideoId, 
  sourceUrl,
  autoplay = true,
  muted = true,
  loop = false,
}) => {
  // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –∫–∞–∫–æ–π –ø–ª–µ–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
  const renderPlayer = () => {
    if (!platform || !platformVideoId) {
      return <div className="video-error">Video not available</div>;
    }

    switch (platform) {
      case 'youtube':
        return (
          <YouTubePlayer
            videoId={platformVideoId}
            autoplay={autoplay}
            muted={muted}
            loop={loop}
          />
        );
      
      case 'tiktok':
        return (
          <TikTokPlayer
            videoId={platformVideoId}
            autoplay={autoplay}
            muted={muted}
            loop={loop}
          />
        );
      
      case 'instagram':
        return (
          <InstagramPlayer
            postId={platformVideoId}
            sourceUrl={sourceUrl}
          />
        );
      
      default:
        return <div className="video-error">Unsupported platform</div>;
    }
  };

  return (
    <div className="unified-video-player">
      <div className="video-container">
        {renderPlayer()}
      </div>
      <VideoOverlay platform={platform} />
    </div>
  );
};

export default UnifiedVideoPlayer;
```

**–°—Ç–∏–ª–∏:** `src/components/VideoPlayer/UnifiedVideoPlayer.css`

```css
.unified-video-player {
  position: relative;
  width: 100%;
  max-width: 100%;
  margin: 0 auto;
}

.video-container {
  position: relative;
  width: 100%;
  padding-bottom: 177.78%; /* 9:16 aspect ratio */
  background: #000;
  border-radius: 8px;
  overflow: hidden;
}

.video-container iframe,
.video-container blockquote {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
}

.video-error {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: #999;
  font-size: 16px;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
  .video-container {
    padding-bottom: 177.78%; /* –°–æ—Ö—Ä–∞–Ω—è–µ–º 9:16 –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  }
}
```

### 6.3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç YouTubePlayer

**–§–∞–π–ª:** `src/components/VideoPlayer/YouTubePlayer.jsx`

```jsx
import React, { useEffect, useRef } from 'react';

const YouTubePlayer = ({ videoId, autoplay, muted, loop }) => {
  const containerRef = useRef(null);

  useEffect(() => {
    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è YouTube iframe
    const params = new URLSearchParams({
      controls: '0',
      autoplay: autoplay ? '1' : '0',
      mute: muted ? '1' : '0',
      rel: '0',
      playsinline: '1',
      enablejsapi: '1',
      loop: loop ? '1' : '0',
      playlist: loop ? videoId : undefined, // –î–ª—è loop –Ω—É–∂–µ–Ω playlist
    });

    // –£–¥–∞–ª–∏—Ç—å undefined –∑–Ω–∞—á–µ–Ω–∏—è
    params.delete('playlist');

    const embedUrl = `https://www.youtube.com/embed/${videoId}?${params.toString()}`;

    // –°–æ–∑–¥–∞—Ç—å iframe
    if (containerRef.current) {
      const iframe = document.createElement('iframe');
      iframe.src = embedUrl;
      iframe.allow = 'autoplay; encrypted-media; picture-in-picture';
      iframe.allowFullscreen = true;
      iframe.style.width = '100%';
      iframe.style.height = '100%';
      iframe.style.border = 'none';

      containerRef.current.innerHTML = '';
      containerRef.current.appendChild(iframe);
    }
  }, [videoId, autoplay, muted, loop]);

  return <div ref={containerRef} className="youtube-player" />;
};

export default YouTubePlayer;
```

### 6.4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç TikTokPlayer

**–§–∞–π–ª:** `src/components/VideoPlayer/TikTokPlayer.jsx`

```jsx
import React, { useEffect, useRef } from 'react';

const TikTokPlayer = ({ videoId, autoplay, muted, loop }) => {
  const containerRef = useRef(null);

  useEffect(() => {
    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è TikTok iframe
    const params = new URLSearchParams({
      controls: '0',
      autoplay: autoplay ? '1' : '0',
      muted: muted ? '1' : '0',
      loop: loop ? '1' : '0',
      rel: '0',
    });

    const embedUrl = `https://www.tiktok.com/player/v1/${videoId}?${params.toString()}`;

    // –°–æ–∑–¥–∞—Ç—å iframe
    if (containerRef.current) {
      const iframe = document.createElement('iframe');
      iframe.src = embedUrl;
      iframe.allow = 'autoplay; fullscreen';
      iframe.allowFullscreen = true;
      iframe.style.width = '100%';
      iframe.style.height = '100%';
      iframe.style.border = 'none';

      containerRef.current.innerHTML = '';
      containerRef.current.appendChild(iframe);
    }
  }, [videoId, autoplay, muted, loop]);

  return <div ref={containerRef} className="tiktok-player" />;
};

export default TikTokPlayer;
```

### 6.5. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç InstagramPlayer

**–§–∞–π–ª:** `src/components/VideoPlayer/InstagramPlayer.jsx`

```jsx
import React, { useEffect, useRef } from 'react';

const InstagramPlayer = ({ postId, sourceUrl }) => {
  const containerRef = useRef(null);

  useEffect(() => {
    // Instagram –∏—Å–ø–æ–ª—å–∑—É–µ—Ç embed.js
    if (containerRef.current && sourceUrl) {
      // –°–æ–∑–¥–∞—Ç—å blockquote –¥–ª—è Instagram embed
      const blockquote = document.createElement('blockquote');
      blockquote.className = 'instagram-media';
      blockquote.setAttribute('data-instgrm-permalink', sourceUrl);
      blockquote.setAttribute('data-instgrm-version', '14');

      containerRef.current.innerHTML = '';
      containerRef.current.appendChild(blockquote);

      // –ó–∞–≥—Ä—É–∑–∏—Ç—å embed.js —Å–∫—Ä–∏–ø—Ç
      if (!document.querySelector('script[src*="instagram.com/embed.js"]')) {
        const script = document.createElement('script');
        script.src = 'https://www.instagram.com/embed.js';
        script.async = true;
        document.body.appendChild(script);
      } else {
        // –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω, –≤—ã–∑–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É
        if (window.instgrm) {
          window.instgrm.Embeds.process();
        }
      }
    }
  }, [postId, sourceUrl]);

  return <div ref={containerRef} className="instagram-player" />;
};

export default InstagramPlayer;
```

### 6.6. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç VideoOverlay

**–§–∞–π–ª:** `src/components/VideoPlayer/VideoOverlay.jsx`

```jsx
import React, { useState } from 'react';
import './VideoOverlay.css';

const VideoOverlay = ({ platform }) => {
  const [isPlaying, setIsPlaying] = useState(false);
  const [isMuted, setIsMuted] = useState(true);

  const handlePlay = () => {
    setIsPlaying(true);
    // –õ–æ–≥–∏–∫–∞ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ API –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
  };

  const handlePause = () => {
    setIsPlaying(false);
    // –õ–æ–≥–∏–∫–∞ –ø–∞—É–∑—ã —á–µ—Ä–µ–∑ API –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
  };

  const handleMute = () => {
    setIsMuted(true);
    // –õ–æ–≥–∏–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∏—è –∑–≤—É–∫–∞
  };

  const handleUnmute = () => {
    setIsMuted(false);
    // –õ–æ–≥–∏–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è –∑–≤—É–∫–∞
  };

  return (
    <div className="video-overlay">
      {!isPlaying && (
        <button className="play-button" onClick={handlePlay}>
          ‚ñ∂
        </button>
      )}
      {isPlaying && (
        <button className="pause-button" onClick={handlePause}>
          ‚è∏
        </button>
      )}
      <button 
        className="mute-button" 
        onClick={isMuted ? handleUnmute : handleMute}
      >
        {isMuted ? 'üîá' : 'üîä'}
      </button>
    </div>
  );
};

export default VideoOverlay;
```

**–°—Ç–∏–ª–∏:** `src/components/VideoPlayer/VideoOverlay.css`

```css
.video-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  z-index: 10;
}

.play-button,
.pause-button {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.6);
  border: none;
  color: white;
  font-size: 24px;
  cursor: pointer;
  pointer-events: auto;
  transition: all 0.2s;
}

.play-button:hover,
.pause-button:hover {
  background: rgba(0, 0, 0, 0.8);
  transform: scale(1.1);
}

.mute-button {
  position: absolute;
  bottom: 20px;
  right: 20px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.6);
  border: none;
  color: white;
  font-size: 20px;
  cursor: pointer;
  pointer-events: auto;
  transition: all 0.2s;
}

.mute-button:hover {
  background: rgba(0, 0, 0, 0.8);
}
```

### 6.7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** `src/pages/VideoDetail.jsx` (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ

```jsx
import React from 'react';
import { useParams } from 'react-router-dom';
import { useQuery } from '@tanstack/react-query';
import UnifiedVideoPlayer from '../components/VideoPlayer/UnifiedVideoPlayer';
import VideoDetailSidebar from '../components/VideoDetailSidebar/VideoDetailSidebar';
import { getVideoReference } from '../services/api';
import './VideoDetail.css';

const VideoDetail = () => {
  const { id } = useParams();
  
  const { data: videoData, isLoading } = useQuery({
    queryKey: ['videoReference', id],
    queryFn: () => getVideoReference(id),
  });

  if (isLoading) {
    return <div>Loading...</div>;
  }

  const video = videoData?.data;

  if (!video) {
    return <div>Video not found</div>;
  }

  return (
    <div className="video-detail-page">
      <div className="video-player-section">
        <UnifiedVideoPlayer
          platform={video.platform}
          platformVideoId={video.platform_video_id}
          sourceUrl={video.source_url}
          autoplay={true}
          muted={true}
        />
      </div>
      <VideoDetailSidebar video={video} />
    </div>
  );
};

export default VideoDetail;
```

---

## 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 7.1. –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### 7.1.1. Backend —Ç–µ—Å—Ç—ã

**Unit —Ç–µ—Å—Ç—ã –¥–ª—è PlatformNormalizationService:**
- –¢–µ—Å—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è YouTube –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –¢–µ—Å—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è TikTok –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –¢–µ—Å—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è Instagram –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –¢–µ—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è YouTube ID –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –¢–µ—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è TikTok ID
- –¢–µ—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è Instagram ID
- –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö URL

**Integration —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è video reference —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è video reference —Å –Ω–æ–≤—ã–º URL
- –¢–µ—Å—Ç API response —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

#### 7.1.2. Frontend —Ç–µ—Å—Ç—ã

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ UnifiedVideoPlayer –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –¢–µ—Å—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏
- –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π platform, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ video_id)

**E2E —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –≤–∏–¥–µ–æ –∏–∑ —Å–ø–∏—Å–∫–∞
- –¢–µ—Å—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è YouTube –≤–∏–¥–µ–æ
- –¢–µ—Å—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è TikTok –≤–∏–¥–µ–æ
- –¢–µ—Å—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è Instagram –≤–∏–¥–µ–æ
- –¢–µ—Å—Ç —Ä–∞–±–æ—Ç—ã overlay –∫–Ω–æ–ø–æ–∫

### 7.2. –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫

**Backend:**
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- [ ] PlatformNormalizationService —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] VideoReferenceController –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç platform_video_id
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è URL —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**Frontend:**
- [ ] UnifiedVideoPlayer –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [ ] YouTubePlayer –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [ ] TikTokPlayer –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [ ] InstagramPlayer –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [ ] VideoOverlay –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –°—Ç–∏–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- [ ] –í–∏–¥–µ–æ –∏–∑ YouTube –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è
- [ ] –í–∏–¥–µ–æ –∏–∑ TikTok –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è
- [ ] –í–∏–¥–µ–æ –∏–∑ Instagram –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] Overlay –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ê–≤—Ç–æ–ø–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç (muted)
- [ ] –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## 8. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –∏ –±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### 8.1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ `PlatformNormalizationService::detectPlatform()`
2. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, `extractVimeoId()`)
3. –î–æ–±–∞–≤–∏—Ç—å case –≤ `normalizeUrl()`
4. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–ª–µ–µ—Ä–∞ –Ω–∞ frontend (–Ω–∞–ø—Ä–∏–º–µ—Ä, `VimeoPlayer.jsx`)
5. –î–æ–±–∞–≤–∏—Ç—å case –≤ `UnifiedVideoPlayer::renderPlayer()`

### 8.2. –£–ª—É—á—à–µ–Ω–∏—è API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ YouTube IFrame API
- –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ TikTok postMessage API
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É overlay –∏ —Ä–µ–∞–ª—å–Ω—ã–º –ø–ª–µ–µ—Ä–æ–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π (play, pause, ended) –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º

### 8.3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- Lazy loading iframe (–∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏)
- Preload —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–µ–æ
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ embed –∫–æ–¥–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ iframe

### 8.4. –£–ª—É—á—à–µ–Ω–∏–µ Instagram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–ë—É–¥—É—â–∏–µ —à–∞–≥–∏:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Instagram Graph API (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω–∞)
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä—è–º–æ–≥–æ URL –≤–∏–¥–µ–æ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è embed (–µ—Å–ª–∏ API –ø–æ–∑–≤–æ–ª–∏—Ç)

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- ‚úÖ –ï–¥–∏–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- ‚úÖ –ß–∏—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Backend/Frontend)
- ‚úÖ –õ–µ–≥–∫—É—é —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –¥–ª—è –Ω–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ—ç—Ç–∞–ø–Ω–æ–π:
1. **–≠—Ç–∞–ø 1:** Backend –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (YouTube, TikTok)
2. **–≠—Ç–∞–ø 2:** Frontend –±–∞–∑–æ–≤—ã–π –ø–ª–µ–µ—Ä (YouTube, TikTok)
3. **–≠—Ç–∞–ø 3:** Overlay –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
4. **–≠—Ç–∞–ø 4:** Instagram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
5. **–≠—Ç–∞–ø 5:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è

